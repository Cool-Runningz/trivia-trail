import{c as Z,r as L,j as t}from"./app-CVYvDumN.js";import{I as $}from"./input-Dp9XL0Xo.js";import{L as q}from"./label-BHKFUSqp.js";import{B as D}from"./button-FqXAhin7.js";import{c as G}from"./index-D2lFjdIX.js";import{C as H}from"./check-DUIvQHt1.js";import{C as J}from"./copy-KkUh3PF7.js";function Y(U){const e=Z.c(33),{value:s,onChange:v,error:o,label:A,showCopyButton:S,disabled:T,autoFocus:_}=U,d=A===void 0?"Room Code":A,C=S===void 0?!1:S,b=T===void 0?!1:T,m=_===void 0?!1:_,[y,z]=L.useState(!1),j=L.useRef(null);let p,f;e[0]!==m?(p=()=>{m&&j.current&&j.current.focus()},f=[m],e[0]=m,e[1]=p,e[2]=f):(p=e[1],f=e[2]),L.useEffect(p,f);let u;e[3]!==v?(u=F=>{const I=F.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"");I.length<=6&&v(I)},e[3]=v,e[4]=u):u=e[4];const N=u;let x;e[5]!==s?(x=async()=>{try{await navigator.clipboard.writeText(s),z(!0),setTimeout(()=>z(!1),2e3)}catch(F){console.error("Failed to copy:",F)}},e[5]=s,e[6]=x):x=e[6];const R=x,V=s.length===6;let r;e[7]!==d?(r=d&&t.jsx(q,{htmlFor:"room-code",children:d}),e[7]=d,e[8]=r):r=e[8];const w=o&&"border-destructive focus-visible:ring-destructive",B=V&&!o&&"border-green-500 focus-visible:ring-green-500";let a;e[9]!==w||e[10]!==B?(a=G("font-mono text-2xl tracking-[0.5em] text-center uppercase",w,B),e[9]=w,e[10]=B,e[11]=a):a=e[11];const E=!!o,k=o?"room-code-error":void 0;let c;e[12]!==b||e[13]!==N||e[14]!==a||e[15]!==E||e[16]!==k||e[17]!==s?(c=t.jsx($,{ref:j,id:"room-code",type:"text",value:s,onChange:N,disabled:b,placeholder:"ABC123",maxLength:6,className:a,"aria-invalid":E,"aria-describedby":k}),e[12]=b,e[13]=N,e[14]=a,e[15]=E,e[16]=k,e[17]=s,e[18]=c):c=e[18];let l;e[19]!==y||e[20]!==R||e[21]!==C?(l=C&&t.jsxs(D,{type:"button",variant:"outline",size:"icon",onClick:R,className:"shrink-0",children:[y?t.jsx(H,{className:"h-4 w-4 text-green-500"}):t.jsx(J,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Copy room code"})]}),e[19]=y,e[20]=R,e[21]=C,e[22]=l):l=e[22];let i;e[23]!==c||e[24]!==l?(i=t.jsxs("div",{className:"flex gap-2",children:[c,l]}),e[23]=c,e[24]=l,e[25]=i):i=e[25];let n;e[26]!==o?(n=o&&t.jsx("p",{id:"room-code-error",className:"text-sm text-destructive",children:o}),e[26]=o,e[27]=n):n=e[27];let h;e[28]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a 6-character alphanumeric code"}),e[28]=h):h=e[28];let g;return e[29]!==i||e[30]!==n||e[31]!==r?(g=t.jsxs("div",{className:"space-y-2",children:[r,i,n,h]}),e[29]=i,e[30]=n,e[31]=r,e[32]=g):g=e[32],g}export{Y as R};
