import{r as m,j as t,c as se,H as ce,F as de}from"./app-DPqtm5SO.js";import{b as ue,B as me}from"./button-BVcIjzyH.js";import{c as fe,d as xe,C as k,a as B,b as pe}from"./card-COZTP0nh.js";import{c as ge,d as he}from"./index-B3XapsrO.js";import{S as ve}from"./spinner-D-jW-sfG.js";import{A as je}from"./app-layout-DTCqFw7f.js";import"./app-DeJXVS98.js";import"./index-mjK58fCC.js";import"./index-r1ZjxIP-.js";import"./users-Ct-DAGnG.js";function be(s,e=[]){let n=[];function l(o,c){const a=m.createContext(c);a.displayName=o+"Context";const i=n.length;n=[...n,c];const u=p=>{const{scope:T,children:g,...d}=p,f=T?.[s]?.[i]||a,x=m.useMemo(()=>d,Object.values(d));return t.jsx(f.Provider,{value:x,children:g})};u.displayName=o+"Provider";function h(p,T){const g=T?.[s]?.[i]||a,d=m.useContext(g);if(d)return d;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[u,h]}const r=()=>{const o=n.map(c=>m.createContext(c));return function(a){const i=a?.[s]||o;return m.useMemo(()=>({[`__scope${s}`]:{...a,[s]:i}}),[a,i])}};return r.scopeName=s,[l,Ne(r,...e)]}function Ne(...s){const e=s[0];if(s.length===1)return e;const n=()=>{const l=s.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const c=l.reduce((a,{useScope:i,scopeName:u})=>{const p=i(o)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var ye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],re=ye.reduce((s,e)=>{const n=ue(`Primitive.${e}`),l=m.forwardRef((r,o)=>{const{asChild:c,...a}=r,i=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(i,{...a,ref:o})});return l.displayName=`Primitive.${e}`,{...s,[e]:l}},{}),K="Progress",W=100,[_e,Qe]=be(K),[we,Se]=_e(K),ne=m.forwardRef((s,e)=>{const{__scopeProgress:n,value:l=null,max:r,getValueLabel:o=Pe,...c}=s;(r||r===0)&&!ee(r)&&console.error(Ce(`${r}`,"Progress"));const a=ee(r)?r:W;l!==null&&!te(l,a)&&console.error($e(`${l}`,"Progress"));const i=te(l,a)?l:null,u=Q(i)?o(i,a):void 0;return t.jsx(we,{scope:n,value:i,max:a,children:t.jsx(re.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Q(i)?i:void 0,"aria-valuetext":u,role:"progressbar","data-state":oe(i,a),"data-value":i??void 0,"data-max":a,...c,ref:e})})});ne.displayName=K;var ae="ProgressIndicator",le=m.forwardRef((s,e)=>{const{__scopeProgress:n,...l}=s,r=Se(ae,n);return t.jsx(re.div,{"data-state":oe(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...l,ref:e})});le.displayName=ae;function Pe(s,e){return`${Math.round(s/e*100)}%`}function oe(s,e){return s==null?"indeterminate":s===e?"complete":"loading"}function Q(s){return typeof s=="number"}function ee(s){return Q(s)&&!isNaN(s)&&s>0}function te(s,e){return Q(s)&&!isNaN(s)&&s<=e&&s>=0}function Ce(s,e){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${W}\`.`}function $e(s,e){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${W} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ie=ne,Ae=le;function Ee(s){const e=se.c(12);let n,l,r;e[0]!==s?({className:n,value:r,...l}=s,e[0]=s,e[1]=n,e[2]=l,e[3]=r):(n=e[1],l=e[2],r=e[3]);let o;e[4]!==n?(o=ge("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),e[4]=n,e[5]=o):o=e[5];const c=`translateX(-${100-(r||0)}%)`;let a;e[6]!==c?(a=t.jsx(Ae,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:c}}),e[6]=c,e[7]=a):a=e[7];let i;return e[8]!==l||e[9]!==o||e[10]!==a?(i=t.jsx(Ie,{"data-slot":"progress",className:o,...l,children:a}),e[8]=l,e[9]=o,e[10]=a,e[11]=i):i=e[11],i}const Me=[{title:"Dashboard",href:he().url},{title:"Playing Game",href:"#"}];function Xe(s){const e=se.c(69),{game:n,question:l,progress:r}=s,[o,c]=m.useState(""),[a,i]=m.useState(!1);let u;e[0]!==o?(u=()=>{o&&i(!0)},e[0]=o,e[1]=u):u=e[1];const h=u,p=De,T=qe,g=`Question ${r.current} of ${r.total}`;let d;e[2]!==g?(d=t.jsx(ce,{title:g}),e[2]=g,e[3]=d):d=e[3];let f;e[4]!==r.current?(f=t.jsx("div",{className:"text-2xl font-bold",children:r.current}),e[4]=r.current,e[5]=f):f=e[5];let x;e[6]!==r.total?(x=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["of ",r.total," questions"]}),e[6]=r.total,e[7]=x):x=e[7];let v;e[8]!==f||e[9]!==x?(v=t.jsx(k,{children:t.jsx(B,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[f,x]})})}),e[8]=f,e[9]=x,e[10]=v):v=e[10];let j;e[11]!==n.score?(j=t.jsx("div",{className:"text-2xl font-bold",children:n.score}),e[11]=n.score,e[12]=j):j=e[12];let V;e[13]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("p",{className:"text-sm text-muted-foreground",children:"current score"}),e[13]=V):V=e[13];let b;e[14]!==j?(b=t.jsx(k,{children:t.jsx(B,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[j,V]})})}),e[14]=j,e[15]=b):b=e[15];const X=`text-2xl font-bold capitalize ${p(n.difficulty)}`;let N;e[16]!==n.difficulty||e[17]!==X?(N=t.jsx("div",{className:X,children:n.difficulty}),e[16]=n.difficulty,e[17]=X,e[18]=N):N=e[18];const z=T(n.difficulty);let y;e[19]!==z?(y=t.jsxs("p",{className:"text-sm text-muted-foreground",children:[z," points"]}),e[19]=z,e[20]=y):y=e[20];let _;e[21]!==N||e[22]!==y?(_=t.jsx(k,{children:t.jsx(B,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[N,y]})})}),e[21]=N,e[22]=y,e[23]=_):_=e[23];let w;e[24]!==_||e[25]!==v||e[26]!==b?(w=t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:[v,b,_]}),e[24]=_,e[25]=v,e[26]=b,e[27]=w):w=e[27];let S;e[28]!==r.percentage?(S=t.jsx(Ee,{value:r.percentage,className:"h-2"}),e[28]=r.percentage,e[29]=S):S=e[29];let P;e[30]!==r.percentage?(P=r.percentage.toFixed(1),e[30]=r.percentage,e[31]=P):P=e[31];let C;e[32]!==P?(C=t.jsxs("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:[P,"% complete"]}),e[32]=P,e[33]=C):C=e[33];let $;e[34]!==S||e[35]!==C?($=t.jsxs("div",{className:"mb-6",children:[S,C]}),e[34]=S,e[35]=C,e[36]=$):$=e[36];let I;e[37]!==r.current?(I=t.jsxs(fe,{className:"text-lg",children:["Question ",r.current]}),e[37]=r.current,e[38]=I):I=e[38];let F;e[39]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),e[39]=F):F=e[39];let A;e[40]!==l.category?(A=t.jsxs("div",{className:"flex items-center gap-2",children:[F,t.jsx("span",{className:"text-sm font-medium",children:l.category})]}),e[40]=l.category,e[41]=A):A=e[41];let E;e[42]!==I||e[43]!==A?(E=t.jsxs("div",{className:"flex items-center justify-between",children:[I,A]}),e[42]=I,e[43]=A,e[44]=E):E=e[44];let M;e[45]!==l.question?(M=t.jsx(xe,{className:"text-base leading-relaxed",dangerouslySetInnerHTML:{__html:l.question}}),e[45]=l.question,e[46]=M):M=e[46];let q;e[47]!==E||e[48]!==M?(q=t.jsxs(pe,{children:[E,M]}),e[47]=E,e[48]=M,e[49]=q):q=e[49];const U=`/game/${n.id}/answer`;let D;e[50]!==n.current_question_index||e[51]!==a||e[52]!==l.shuffled_answers||e[53]!==o?(D=ie=>{const{processing:J,errors:Y}=ie;return t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"hidden",name:"selected_answer",value:o}),t.jsx("input",{type:"hidden",name:"question_index",value:n.current_question_index}),t.jsx("div",{className:"grid gap-3",children:l.shuffled_answers.map((G,Z)=>t.jsx("button",{type:"button",onClick:()=>c(G),className:`w-full rounded-lg border p-4 text-left transition-all hover:bg-accent hover:text-accent-foreground ${o===G?"border-primary bg-primary/10 text-primary":"border-input bg-background"}`,disabled:J||a,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`flex h-6 w-6 items-center justify-center rounded-full border-2 text-sm font-medium ${o===G?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/30"}`,children:String.fromCharCode(65+Z)}),t.jsx("span",{className:"flex-1",dangerouslySetInnerHTML:{__html:G}})]})},Z))}),Y.selected_answer&&t.jsx("p",{className:"text-sm text-destructive",children:Y.selected_answer}),t.jsxs("div",{className:"flex justify-between pt-4",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Select an answer to continue"}),t.jsxs(me,{type:"submit",disabled:!o||J||a,className:"min-w-[120px]",children:[(J||a)&&t.jsx(ve,{}),"Submit Answer"]})]})]})},e[50]=n.current_question_index,e[51]=a,e[52]=l.shuffled_answers,e[53]=o,e[54]=D):D=e[54];let R;e[55]!==h||e[56]!==U||e[57]!==D?(R=t.jsx(B,{children:t.jsx(de,{action:U,method:"post",onSubmit:h,className:"space-y-4",children:D})}),e[55]=h,e[56]=U,e[57]=D,e[58]=R):R=e[58];let L;e[59]!==q||e[60]!==R?(L=t.jsxs(k,{children:[q,R]}),e[59]=q,e[60]=R,e[61]=L):L=e[61];let H;e[62]!==w||e[63]!==$||e[64]!==L?(H=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:t.jsxs("div",{className:"mx-auto w-full max-w-4xl",children:[w,$,L]})}),e[62]=w,e[63]=$,e[64]=L,e[65]=H):H=e[65];let O;return e[66]!==d||e[67]!==H?(O=t.jsxs(je,{breadcrumbs:Me,children:[d,H]}),e[66]=d,e[67]=H,e[68]=O):O=e[68],O}function qe(s){switch(s){case"easy":return 10;case"medium":return 20;case"hard":return 30;default:return 0}}function De(s){switch(s){case"easy":return"text-green-600";case"medium":return"text-yellow-600";case"hard":return"text-red-600";default:return"text-gray-600"}}export{Xe as default};
